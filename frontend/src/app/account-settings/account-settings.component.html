<div class="account-settings">
    <div class="spacer1"></div>
  
    <!-- Card -->
    <mat-card class="acard">
  
      <!-- Header -->
      <mat-card-header>
        <img mat-card-avatar src="../../assets/cookie-svgrepo-com.svg" alt="logo">
        <mat-card-title>Account Settings</mat-card-title>
        <mat-card-subtitle>GS Fundraising Platform</mat-card-subtitle>
      </mat-card-header>
  
      <!-- Content -->
      <mat-card-content>
        <mat-spinner *ngIf="isLoading"></mat-spinner>
        <form (submit)="onSubmit()" [formGroup]="settingsForm" *ngIf="!isLoading">


          <!-- Name Input -->
          <mat-form-field appearance="standard" class="full-width">
            <mat-label>Full Name</mat-label>
            <input
              matInput
              formControlName="name"
              placeholder="EX: Jane Doe"
              required>
            <mat-error *ngIf="settingsForm.controls.name.hasError('required')">
              Fullname is <strong>required</strong>!
            </mat-error>
          </mat-form-field>
  
          <!-- Password Input -->
          <!-- (Removed required field from input-->
          <mat-form-field appearance="standard" class="full-width">
            <mat-label>Password</mat-label>
            <input
              matInput
              formControlName="password"
              name="password"
              [type]="hide ? 'password' : 'text'"
              password>
            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="hide = !hide"
              [attr.aria-label]="'Hide Password'"
              [attr.aria-pressed]="hide"
              *ngIf="!isLoading">
              <mat-icon>
                {{hide ? 'visibility_off' : 'visibility'}}
              </mat-icon>
            </button>
          </mat-form-field>

          <mat-form-field appearance="standard" class="full-width">
            <mat-label>Confirm Password</mat-label>
            <input
              matInput
              formControlName="confirmPassword"
              name="password"
              [type]="hide ? 'password' : 'text'"
              password
            >
            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="hide = !hide"
              [attr.aria-label]="'Hide Password'"
              [attr.aria-pressed]="hide"
              *ngIf="!isLoading">
              <mat-icon>
                {{hide ? 'visibility_off' : 'visibility'}}
              </mat-icon>
            </button>
            <mat-error *ngIf="settingsForm.controls.confirmPassword.hasError('notSame')">
              Passwords must match!
            </mat-error>
          </mat-form-field>
  
          <!-- Actions -->
          <mat-card-actions>
              <div class="formsubmit">
                <button
                    type="submit"
                    *ngIf="!isLoading"
                    mat-raised-button
                    [disabled]="!settingsForm.valid"
                    color="primary">Submit Changes</button>
              </div>
          </mat-card-actions>
        </form>
  
  
      </mat-card-content>
  
      <!-- TODO: Replace Version with the current role a user is -->
      <!-- Footer -->
      <mat-card-footer>
        <p>Current Role: {{role}}</p>
      </mat-card-footer>
    </mat-card>
  
    <div class="spacer2"></div>
  </div>