
<mat-sidenav-container class="sidenav-container">
  <!-- Side Nav -->
  <mat-sidenav
      #drawer
      class="sidenav"
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
      [mode]="(isHandset$ | async) ? 'over' : 'side'"
      [opened]="(isHandset$ | async) === false">

    <!-- Side Nav Routes -->
    <mat-nav-list>
      <a [routerLink]="['/']">
        <img src="../../assets/cookie-svgrepo-com.svg" alt="logo">
      </a>
      <h1 class="mat-headline">GS-Fundraising</h1>
      <mat-divider></mat-divider>
      <mat-accordion displayMode="flat" togglePosition='after'>

        <!-- Homepage -->
        <mat-expansion-panel class="mat-elevation-z0">
          <mat-expansion-panel-header>
            <a mat-list-item [routerLink]="['/homepage']" routerLinkActive="activeRoute">
              <mat-icon >
                explore
              </mat-icon>
              <span class="spacer2"></span>
              Explore
            </a>
          </mat-expansion-panel-header>
          <a mat-list-item routerLinkActive="activeRoute" href="#inventory">Inventory</a>
          <a mat-list-item routerLinkActive="activeRoute" href="#sales">Sales</a>
          <a mat-list-item routerLinkActive="activeRoute" href="#events">Events</a>
        </mat-expansion-panel>
        <mat-divider></mat-divider>

        <!-- Scout Routes -->
        <div *ngIf="!(userIsAdmin || userIsLeader) && userIsAuth">
          <mat-expansion-panel>
            <!-- Dashboard -->
            <mat-expansion-panel-header>
              <a *ngIf="userIsAuth" [routerLink]="['/dashboard-scout']" mat-list-item routerLinkActive="activeRoute">
               <mat-icon >
                 dashboard
               </mat-icon>
               <span class="spacer2"></span>
               Dashboard
             </a>
            </mat-expansion-panel-header>
            <!-- dashboard items -->
            <a mat-list-item routerLinkActive="activeRoute" [routerLink]="['/sales-scout']">Sales</a>
           </mat-expansion-panel>
           <mat-divider></mat-divider>

           <mat-expansion-panel>
            <!-- Request -->
            <mat-expansion-panel-header>
              <a *ngIf="userIsAuth" [routerLink]="['/request-scout']" mat-list-item routerLinkActive="activeRoute">
               <mat-icon >
                 forum
               </mat-icon>
               <span class="spacer2"></span>
               Request
             </a>
            </mat-expansion-panel-header>
            <!-- Request items -->
            <a mat-list-item routerLinkActive="activeRoute" href="#">test</a>
           </mat-expansion-panel>
           <mat-divider></mat-divider>
        </div>

        <!-- Leader Routes -->
         <div *ngIf="userIsAdmin || userIsLeader">
           <mat-expansion-panel>
             <!-- Dashboard -->
             <mat-expansion-panel-header>
               <a *ngIf="userIsAuth" [routerLink]="['/dashboard-leader']" mat-list-item routerLinkActive="activeRoute">
                <mat-icon >
                  dashboard
                </mat-icon>
                <span class="spacer2"></span>
                Dashboard
              </a>
             </mat-expansion-panel-header>
             <!-- dashboard items -->
             <a mat-list-item routerLinkActive="activeRoute" href="/dashboard-leader#troops-d">Troops</a>
             <a mat-list-item routerLinkActive="activeRoute" href="/dashboard-leader#members-d">Members</a>
             <!-- <a mat-list-item routerLinkActive="activeRoute" href="/dashboard-leader#events-d">Events</a> -->
             <a mat-list-item routerLinkActive="activeRoute" href="/dashboard-leader#sales-d">Sales</a>
             <a mat-list-item routerLinkActive="activeRoute" href="/dashboard-leader#inventory-d">Inventory</a>
            </mat-expansion-panel>
            <mat-divider></mat-divider>

            <!-- Inventory -->
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <a *ngIf="userIsAuth" [routerLink]="['/inventory-leader']" mat-list-item routerLinkActive="activeRoute">
                  <mat-icon >
                    store
                  </mat-icon>
                  <span class="spacer2"></span>
                  Inventory
                </a>
              </mat-expansion-panel-header>
              <!-- Inventory items -->
              <a mat-list-item routerLinkActive="activeRoute" href="/inventory-leader#add">Add Inventory</a>
              <a mat-list-item routerLinkActive="activeRoute" href="/inventory-leader#table">Inventory Table</a>
            </mat-expansion-panel>
            <mat-divider></mat-divider>

            <!-- Members -->
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <a *ngIf="userIsAuth" [routerLink]="['/members']"   mat-list-item routerLinkActive="activeRoute">
                  <mat-icon >
                    people
                  </mat-icon>
                  <span class="spacer2"></span>
                  Members
                </a>
              </mat-expansion-panel-header>
              <!-- Groups and Members -->
              <a mat-list-item routerLinkActive="activeRoute" [routerLink]="['/members-groups']" >Groups</a>
              <a mat-list-item *ngIf="userIsAdmin" routerLinkActive="activeRoute" [routerLink]="['/members-leaders']">Leaders</a>
              <a mat-list-item routerLinkActive="activeRoute" [routerLink]="['/members-scouts']">Scouts</a>
            </mat-expansion-panel>
            <mat-divider></mat-divider>

            <!-- Events -->
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <a *ngIf="userIsAuth" [routerLink]="['/events-leader']"    mat-list-item routerLinkActive="activeRoute">
                  <mat-icon >
                    event
                  </mat-icon>
                  <span class="spacer2"></span>
                  Events
                </a>
              </mat-expansion-panel-header>
              <!-- Events Items -->
              <a [routerLink]="['/notifications-leader']" mat-list-item routerLinkActive="activeRoute">Notifications</a>
            </mat-expansion-panel>
            <mat-divider></mat-divider>

            <!-- Sales -->
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <a *ngIf="userIsAuth" [routerLink]="['/sales-leader']"     mat-list-item routerLinkActive="activeRoute">
                  <mat-icon >
                    show_chart
                  </mat-icon>
                  <span class="spacer2"></span>
                  Sales
                </a>
              </mat-expansion-panel-header>
               <!-- Sales Items -->
               <a mat-list-item routerLinkActive="activeRoute" href="/sales-leader#table">Totals</a>
            </mat-expansion-panel>
            <mat-divider></mat-divider>
          </div>
        </mat-accordion> <!-- End Accordion -->
    </mat-nav-list>
  </mat-sidenav>

  <!-- Top Toolbar -->
  <mat-sidenav-content>

    <mat-toolbar color="primary" class="toolbar-container">

      <!-- Hamburger Menu -->
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
        *ngIf="isHandset$ | async">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>

      <!-- Groups ~> Heldout -->
      <!-- <div class="btn-group" mdbDropdown *ngIf="(userIsAdmin || userIsLeader) && userIsAuth">
        <button type="button" mdbBtn color="dark">GroupId: <strong>{{gid}}</strong></button>
        <button type="button" mdbDropdownToggle mdbBtn color="dark"
          class="dropdown-toggle dropdown-toggle-split px-3"
          (click)="onLoadGroups()"></button>
        <div class="dropdown-menu">
          <a class="dropdown-item" *ngFor="let e of groups"
            (click)="onSelectGroup(e.groupId, e.groupName)">
            {{e.groupId}}: {{e.groupName}}
          </a>
        </div>
      </div> -->

      <span class="spacer"></span>

      <!-- Notifications -->
      <div *ngIf="userIsAuth">
        <button mat-icon-button (click)="onNotification()" [matMenuTriggerFor]="notifications" aria-label="Notifications">
          <mat-icon [matBadge]="notificationCount" matBadgeColor="warn">notifications</mat-icon>
        </button>
        <mat-menu #notifications="matMenu" class="notifications-menu" xPosition="before">
          <div class="notifications-item" *ngFor="let n of notificationArray; let lastItem = last;">
            <div class="notifications-meta">
            <h3>{{n.name}}</h3>
            <!-- <h5>{{n.Date}}</h5> -->
            </div>
            <p>{{n.message}}</p>
            <mat-divider *ngIf="!lastItem"></mat-divider>
          </div>


        </mat-menu>
      </div>

      <!-- Account -->
      <div>
        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="User Menu">
          <mat-icon>account_circle</mat-icon>
        </button>
        <!-- Sign in -->
        <mat-menu #menu="matMenu" class="userIcon">
          <button mat-menu-item *ngIf="!userIsAuth" (click)="onLogin()">
            <mat-icon>keyboard_arrow_right</mat-icon>
            <span>Sign In</span>
          </button>

          <!-- Logout -->
          <button mat-menu-item *ngIf="userIsAuth" (click)="onLogout()">
            <mat-icon>keyboard_arrow_left</mat-icon>
            <span>Log Out</span>
          </button>

          <button mat-menu-item *ngIf="userIsAuth" (click)="onSetting()">
            <mat-icon>settings</mat-icon>
            <span>Settings</span>
          </button>
        </mat-menu>
      </div>

    </mat-toolbar>

    <!-- Angular Content Projection -->
    <ng-content></ng-content>

  </mat-sidenav-content>

</mat-sidenav-container>
